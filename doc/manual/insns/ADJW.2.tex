\begin{instruction}{ADJW.2}{Adjust Window, Store Previous Address}
  \begin{encoding}
    \mnemonic & \op{3}{001} & \op{2}{11} & \reg{d} & \op{3}{001} & \op{2}{11} & \imm{3} \\
  \end{encoding}
  \assembly{ADJW Rd, size}
  \purpose{To adjust the position of register window and store the previous window position to a register.}
  \restrictions{None.}
\begin{operation}
\K{if} (has\_ext13)
\K{then} imm ← ext13|imm3
\K{else} imm ← sign\_extend(imm3)
tmp ← W
W ← W + imm
mem[W|Rd] ← tmp|000
\end{operation}
  \begin{remarks}See also \insnref{ENTR}.\end{remarks}
  \begin{notice}The exact encoding of this instruction is not final.\end{notice}
\end{instruction}
